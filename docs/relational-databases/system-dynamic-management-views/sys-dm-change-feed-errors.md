---
title: "sys.dm_change_feed_errors (Transact-SQL)"
description: sys.dm_change_feed_errors (Transact-SQL) returns recent errors for the Azure Synapse Link or Fabric Mirrored Database feature.
author: WilliamDAssafMSFT
ms.author: wiassaf
ms.reviewer: imotiwala
ms.date: 09/24/2024
ms.service: fabric
ms.subservice: system-objects
ms.topic: "reference"
f1_keywords:
  - "sys.dm_change_feed_errors_TSQL"
  - "sys.dm_change_feed_errors"
  - "dm_change_feed_errors_TSQL"
  - "dm_change_feed_errors"
helpviewer_keywords:
  - "sys.dm_change_feed_errors dynamic management view"
dev_langs:
  - "TSQL"
monikerRange: ">=sql-server-ver16||=azuresqldb-current||=fabric||=azure-sqldw-latest"
---
# sys.dm_change_feed_errors (Transact-SQL)

[!INCLUDE [sqlserver2022-asdb-asa-fabricmirroredsqldb-fabricsqldb](../../includes/applies-to-version/sqlserver2022-asdb-asa-fabricmirroredsqldb-fabricsqldb.md)]

  Returns recent errors from the change feed, snapshot, or incremental change publish processes

This dynamic management view is used for:

- The Azure Synapse Link feature for SQL Server instances and Azure SQL Database. For more information, see [Manage Azure Synapse Link for SQL Server and Azure SQL Database](../../sql-server/synapse-link/synapse-link-sql-server-change-feed-manage.md).
- The Fabric Mirrored Database feature for Azure SQL Database. For more information, see [Microsoft Fabric mirrored databases](/fabric/database/mirrored-database/overview).
- SQL database in Microsoft Fabric. For more information, see [SQL database in Microsoft Fabric](/fabric/database/sql/overview).
  
|Column name|Data type|Description|  
|-----------------|---------------|-----------------|  
| `session_id` |**int**|This is the `session_id` maintained by history cache of the log reader.|  
| `source_task` |**tinyint**|Internal change feed task ID. <br />0 = UNDEFINED<br />1 = TIMER<br />2 = CAPTURE<br />3 = PUBLISH<br />4 = COMMIT<br />5 = SNAPSHOT |
| `table_id` |**int**| The `object_id` of the relevant table. |
| `table_group_id` |**uniqueidentifier**| The unique identifier of the table group. It will be a GUID generated by the setup flow. |
| `capture_phase_number` |**int**| Log reader scan phase, if capture job completes and the publish/commit is still in progress, the phase still remains at last scan (batch processing phase 7). For more information, see `batch_processing_phase` in [sys.dm_change_feed_log_scan_sessions](sys-dm-change-feed-log-scan-sessions.md). Doesn't apply to snapshot. |
| `entry_time` |**datetime**| The date and time the error was logged. This value corresponds to the timestamp in the SQL error log. In SQL Server, this time is reporting in local time. In Azure SQL Database, the time zone is UTC. |
| `error_number` |**int**| ID of the error message. |
| `error_severity` |**int**|Severity level of the message, between 1 and 25. |
| `error_state` |**int**| State number of the error. |
| `error_message` |**nvarchar(1024)**| Message text of the error. |
| `batch_start_lsn` |**nvarchar(23)**| Starting LSN value of the rows being processed when the error occurred.<br /><br /> 0 = the error didn't occur within a log scan session. |
| `batch_end_lsn` |**nvarchar(23)**| End LSN value of the rows being processed when the error occurred.<br /><br /> 0 = the error didn't occur within a log scan session. |
| `tran_begin_lsn` |**nvarchar(23)**| `Begin_lsn` of the failed transaction. Will be `NULL` for snapshot errors. |
| `tran_commit_lsn` |**nvarchar(23)**| Commit LSN for the change row in the change data row set on which the failure occurred. Will be `NULL` for snapshot errors. |
| `sequence_value` |**nvarchar(23)**| LSN value of the rows being processed when the error occurred.<br /><br /> 0 = the error didn't occur within a log scan session. |
| `command_id` |**int**| Command ID from the change row that failed to publish. Will be `NULL` for snapshot errors. |

## Remarks

This DMV shows errors from last 32 sessions. One session might include multiple errors, for example, retry attempts on landing zone failures. This DMV will also show errors faced during snapshot and incremental change publish process.

## Permissions

Requires VIEW DATABASE STATE or VIEW DATABASE PERFORMANCE STATE permission to query the `sys.dm_change_feed_errors` dynamic management view. For more information about permissions on dynamic management views, see [Dynamic Management Views and Functions](system-dynamic-management-views.md).

In Fabric SQL database, a user must be granted VIEW DATABASE STATE in the database to query this DMV. Or, a member of any [role the Fabric workspace](/fabric/get-started/roles-workspaces) can query this DMV.

## Examples

Use `sys.dm_change_feed_errors` to check for any recent errors.

```sql
SELECT * 
FROM sys.dm_change_feed_errors 
ORDER BY entry_time DESC;
```

## Related content

- [sys.sp_help_change_feed (Transact-SQL)](../system-stored-procedures/sp-help-change-feed.md)
- [sys.sp_help_change_feed_table (Transact-SQL)](../system-stored-procedures/sp-help-change-feed-table.md)
- [sys.dm_change_feed_log_scan_sessions (Transact-SQL)](sys-dm-change-feed-log-scan-sessions.md)
- [sys.dm_change_feed_errors (Transact-SQL)](sys-dm-change-feed-errors.md)
